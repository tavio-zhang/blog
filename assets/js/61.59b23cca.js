(window.webpackJsonp=window.webpackJsonp||[]).push([[61],{418:function(e,r,s){"use strict";s.r(r);var _=s(8),a=Object(_.a)({},(function(){var e=this,r=e._self._c;return r("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[r("p",[e._v("在分布式系统中，服务间的通信往往面临三大挑战：")]),e._v(" "),r("ul",[r("li",[r("strong",[e._v("耦合度高")]),e._v("：同步调用导致服务间相互依赖，一方故障可能引发连锁反应；")]),e._v(" "),r("li",[r("strong",[e._v("流量峰值")]),e._v("：突发请求（如秒杀）可能压垮下游服务；")]),e._v(" "),r("li",[r("strong",[e._v("异步需求")]),e._v("：非核心流程（如日志记录、消息通知）无需阻塞主流程。")])]),e._v(" "),r("p",[e._v('RabbitMQ作为一款成熟的消息队列（MQ）中间件，通过"生产者-交换机-队列-消费者"的异步通信模式，完美解决了上述问题。它就像一个"分布式快递系统"，让消息在服务间高效、可靠地流转。')]),e._v(" "),r("h2",{attrs:{id:"一、rabbitmq核心组件-从快递流程理解"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#一、rabbitmq核心组件-从快递流程理解"}},[e._v("#")]),e._v(" 一、RabbitMQ核心组件：从快递流程理解")]),e._v(" "),r("h3",{attrs:{id:"_1-1-生产者-producer"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-生产者-producer"}},[e._v("#")]),e._v(" 1.1 生产者（Producer）")]),e._v(" "),r("p",[r("strong",[e._v("角色定位")]),e._v("：消息的创建者，负责将业务数据封装为消息并发送到RabbitMQ。\n"),r("strong",[e._v("类比场景")]),e._v("：网购时的商家，打包商品并交给快递员。\n"),r("strong",[e._v("核心特性")]),e._v("：")]),e._v(" "),r("ul",[r("li",[e._v('只负责"发送消息"，不关心消息被谁处理、如何处理；')]),e._v(" "),r("li",[e._v('发送前需指定消息的"目的地标识"（路由键）。')])]),e._v(" "),r("p",[r("strong",[e._v("代码示例（Spring AMQP）")]),e._v("：")]),e._v(" "),r("div",{staticClass:"language- line-numbers-mode"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[e._v('@Service\npublic class OrderProducer {\n    @Autowired\n    private RabbitTemplate rabbitTemplate;\n\n    // 发送订单消息\n    public void sendOrderMsg(Order order) {\n        String exchangeName = "order.exchange";\n        String routingKey = "order.create"; // 路由键：标识消息类型\n        rabbitTemplate.convertAndSend(exchangeName, routingKey, order);\n    }\n}\n')])]),e._v(" "),r("div",{staticClass:"line-numbers-wrapper"},[r("span",{staticClass:"line-number"},[e._v("1")]),r("br"),r("span",{staticClass:"line-number"},[e._v("2")]),r("br"),r("span",{staticClass:"line-number"},[e._v("3")]),r("br"),r("span",{staticClass:"line-number"},[e._v("4")]),r("br"),r("span",{staticClass:"line-number"},[e._v("5")]),r("br"),r("span",{staticClass:"line-number"},[e._v("6")]),r("br"),r("span",{staticClass:"line-number"},[e._v("7")]),r("br"),r("span",{staticClass:"line-number"},[e._v("8")]),r("br"),r("span",{staticClass:"line-number"},[e._v("9")]),r("br"),r("span",{staticClass:"line-number"},[e._v("10")]),r("br"),r("span",{staticClass:"line-number"},[e._v("11")]),r("br"),r("span",{staticClass:"line-number"},[e._v("12")]),r("br")])]),r("h3",{attrs:{id:"_1-2-交换机-exchange"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-交换机-exchange"}},[e._v("#")]),e._v(" 1.2 交换机（Exchange）")]),e._v(" "),r("p",[r("strong",[e._v("角色定位")]),e._v('：消息的"中转站"，接收生产者的消息并按规则转发到队列。\n'),r("strong",[e._v("类比场景")]),e._v("：快递中转站，根据地址将包裹分到不同区域线路。\n"),r("strong",[e._v("核心特性")]),e._v("：")]),e._v(" "),r("ul",[r("li",[e._v("不存储消息，仅负责转发；")]),e._v(" "),r("li",[e._v("必须与队列绑定（通过绑定规则），否则消息会被丢弃；")]),e._v(" "),r("li",[e._v("转发规则由交换机类型决定（后文详细说明）。")])]),e._v(" "),r("h3",{attrs:{id:"_1-3-路由键-routing-key"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_1-3-路由键-routing-key"}},[e._v("#")]),e._v(" 1.3 路由键（Routing Key）")]),e._v(" "),r("p",[r("strong",[e._v("角色定位")]),e._v('：消息的"地址标签"，用于交换机判断消息应转发到哪些队列。\n'),r("strong",[e._v("类比场景")]),e._v('：快递单上的详细地址（如"北京市朝阳区XX街道"）。\n'),r("strong",[e._v("使用说明")]),e._v("：")]),e._v(" "),r("ul",[r("li",[e._v("由生产者在发送消息时指定（字符串格式，可包含"),r("code",[e._v(".")]),e._v("分隔符，如"),r("code",[e._v("order.pay.success")]),e._v("）；")]),e._v(" "),r("li",[e._v('交换机通过路由键与"绑定键"（队列与交换机的绑定规则）匹配，决定转发逻辑。')])]),e._v(" "),r("h3",{attrs:{id:"_1-4-绑定-binding"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_1-4-绑定-binding"}},[e._v("#")]),e._v(" 1.4 绑定（Binding）")]),e._v(" "),r("p",[r("strong",[e._v("角色定位")]),e._v('：交换机与队列之间的"路由规则"，定义了两者的关联关系。\n'),r("strong",[e._v("类比场景")]),e._v('：快递站的"路线配置"（如"所有发往朝阳区的快递走XX线路"）。\n'),r("strong",[e._v("核心要素")]),e._v("：")]),e._v(" "),r("ul",[r("li",[e._v("绑定键（Binding Key）：规则表达式，与路由键匹配；")]),e._v(" "),r("li",[e._v("匹配逻辑由交换机类型决定（如Direct需完全匹配，Topic支持通配符）。")])]),e._v(" "),r("p",[r("strong",[e._v("代码示例（绑定配置）")]),e._v("：")]),e._v(" "),r("div",{staticClass:"language- line-numbers-mode"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[e._v('@Configuration\npublic class RabbitConfig {\n    // 声明交换机\n    @Bean\n    public DirectExchange orderExchange() {\n        // 参数：交换机名称、是否持久化、是否自动删除\n        return new DirectExchange("order.exchange", true, false);\n    }\n\n    // 声明队列\n    @Bean\n    public Queue orderQueue() {\n        return QueueBuilder.durable("order.queue") // 持久化队列\n                          .build();\n    }\n\n    // 绑定交换机与队列（绑定键为"order.create"）\n    @Bean\n    public Binding orderBinding(DirectExchange orderExchange, Queue orderQueue) {\n        return BindingBuilder.bind(orderQueue)\n                            .to(orderExchange)\n                            .with("order.create"); // 绑定键\n    }\n}\n')])]),e._v(" "),r("div",{staticClass:"line-numbers-wrapper"},[r("span",{staticClass:"line-number"},[e._v("1")]),r("br"),r("span",{staticClass:"line-number"},[e._v("2")]),r("br"),r("span",{staticClass:"line-number"},[e._v("3")]),r("br"),r("span",{staticClass:"line-number"},[e._v("4")]),r("br"),r("span",{staticClass:"line-number"},[e._v("5")]),r("br"),r("span",{staticClass:"line-number"},[e._v("6")]),r("br"),r("span",{staticClass:"line-number"},[e._v("7")]),r("br"),r("span",{staticClass:"line-number"},[e._v("8")]),r("br"),r("span",{staticClass:"line-number"},[e._v("9")]),r("br"),r("span",{staticClass:"line-number"},[e._v("10")]),r("br"),r("span",{staticClass:"line-number"},[e._v("11")]),r("br"),r("span",{staticClass:"line-number"},[e._v("12")]),r("br"),r("span",{staticClass:"line-number"},[e._v("13")]),r("br"),r("span",{staticClass:"line-number"},[e._v("14")]),r("br"),r("span",{staticClass:"line-number"},[e._v("15")]),r("br"),r("span",{staticClass:"line-number"},[e._v("16")]),r("br"),r("span",{staticClass:"line-number"},[e._v("17")]),r("br"),r("span",{staticClass:"line-number"},[e._v("18")]),r("br"),r("span",{staticClass:"line-number"},[e._v("19")]),r("br"),r("span",{staticClass:"line-number"},[e._v("20")]),r("br"),r("span",{staticClass:"line-number"},[e._v("21")]),r("br"),r("span",{staticClass:"line-number"},[e._v("22")]),r("br"),r("span",{staticClass:"line-number"},[e._v("23")]),r("br"),r("span",{staticClass:"line-number"},[e._v("24")]),r("br")])]),r("h3",{attrs:{id:"_1-5-队列-queue"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_1-5-队列-queue"}},[e._v("#")]),e._v(" 1.5 队列（Queue）")]),e._v(" "),r("p",[r("strong",[e._v("角色定位")]),e._v('：消息的"存储容器"，是RabbitMQ中唯一持久化消息的组件。\n'),r("strong",[e._v("类比场景")]),e._v("：小区的菜鸟驿站，暂存快递等待用户取件。\n"),r("strong",[e._v("核心特性")]),e._v("：")]),e._v(" "),r("table",[r("thead",[r("tr",[r("th",[e._v("特性")]),e._v(" "),r("th",[e._v("说明")]),e._v(" "),r("th",[e._v("适用场景")])])]),e._v(" "),r("tbody",[r("tr",[r("td",[e._v("持久化")]),e._v(" "),r("td",[e._v("队列元数据（名称、配置）和消息内容在RabbitMQ重启后不丢失")]),e._v(" "),r("td",[e._v("核心业务消息（如订单、支付）")])]),e._v(" "),r("tr",[r("td",[e._v("排他性")]),e._v(" "),r("td",[e._v("仅当前连接可见，连接关闭后自动删除")]),e._v(" "),r("td",[e._v("临时任务（如分布式锁）")])]),e._v(" "),r("tr",[r("td",[e._v("自动删除")]),e._v(" "),r("td",[e._v("最后一个消费者断开连接后自动删除队列")]),e._v(" "),r("td",[e._v("临时通知场景")])]),e._v(" "),r("tr",[r("td",[e._v("容量限制")]),e._v(" "),r("td",[e._v("可设置最大长度（消息数或字节数），避免内存溢出")]),e._v(" "),r("td",[e._v("流量控制")])]),e._v(" "),r("tr",[r("td",[e._v("消息优先级")]),e._v(" "),r("td",[e._v("支持为消息设置优先级，队列优先投递高优先级消息")]),e._v(" "),r("td",[e._v("紧急任务处理")])])])]),e._v(" "),r("h3",{attrs:{id:"_1-6-消费者-consumer"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_1-6-消费者-consumer"}},[e._v("#")]),e._v(" 1.6 消费者（Consumer）")]),e._v(" "),r("p",[r("strong",[e._v("角色定位")]),e._v("：消息的处理者，监听队列并获取消息进行业务处理。\n"),r("strong",[e._v("类比场景")]),e._v("：取快递的用户，收到通知后处理包裹。\n"),r("strong",[e._v("核心特性")]),e._v("：")]),e._v(" "),r("ul",[r("li",[e._v("需明确监听的队列；")]),e._v(" "),r("li",[e._v('处理完成后需发送"确认信号"（Ack），RabbitMQ才会删除消息（避免消息丢失）；')]),e._v(" "),r("li",[e._v("可多个消费者共同监听一个队列，实现负载均衡。")])]),e._v(" "),r("p",[r("strong",[e._v("代码示例（消息消费）")]),e._v("：")]),e._v(" "),r("div",{staticClass:"language- line-numbers-mode"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[e._v('@Service\npublic class OrderConsumer {\n    @RabbitListener(queues = "order.queue") // 监听指定队列\n    public void handleOrder(Order order, Channel channel, @Header(AmqpHeaders.DELIVERY_TAG) long tag) throws IOException {\n        try {\n            // 处理业务逻辑（如更新订单状态）\n            processOrder(order);\n            // 手动确认消息（消息处理成功，RabbitMQ删除消息）\n            channel.basicAck(tag, false);\n        } catch (Exception e) {\n            // 处理失败，消息重回队列（或进入死信队列）\n            channel.basicNack(tag, false, true);\n        }\n    }\n}\n')])]),e._v(" "),r("div",{staticClass:"line-numbers-wrapper"},[r("span",{staticClass:"line-number"},[e._v("1")]),r("br"),r("span",{staticClass:"line-number"},[e._v("2")]),r("br"),r("span",{staticClass:"line-number"},[e._v("3")]),r("br"),r("span",{staticClass:"line-number"},[e._v("4")]),r("br"),r("span",{staticClass:"line-number"},[e._v("5")]),r("br"),r("span",{staticClass:"line-number"},[e._v("6")]),r("br"),r("span",{staticClass:"line-number"},[e._v("7")]),r("br"),r("span",{staticClass:"line-number"},[e._v("8")]),r("br"),r("span",{staticClass:"line-number"},[e._v("9")]),r("br"),r("span",{staticClass:"line-number"},[e._v("10")]),r("br"),r("span",{staticClass:"line-number"},[e._v("11")]),r("br"),r("span",{staticClass:"line-number"},[e._v("12")]),r("br"),r("span",{staticClass:"line-number"},[e._v("13")]),r("br"),r("span",{staticClass:"line-number"},[e._v("14")]),r("br"),r("span",{staticClass:"line-number"},[e._v("15")]),r("br")])]),r("h3",{attrs:{id:"_1-7-消息流转完整流程"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_1-7-消息流转完整流程"}},[e._v("#")]),e._v(" 1.7 消息流转完整流程")]),e._v(" "),r("ol",[r("li",[e._v("生产者创建消息，指定"),r("strong",[e._v("交换机名称")]),e._v("和"),r("strong",[e._v("路由键")]),e._v("，发送到RabbitMQ；")]),e._v(" "),r("li",[e._v("交换机根据自身"),r("strong",[e._v("类型")]),e._v("和与队列的"),r("strong",[e._v("绑定规则")]),e._v("，将消息转发到匹配的队列；")]),e._v(" "),r("li",[e._v("队列存储消息，等待消费者处理；")]),e._v(" "),r("li",[e._v("消费者监听队列，获取消息并处理；")]),e._v(" "),r("li",[e._v("消费者处理完成后发送"),r("strong",[e._v("Ack确认")]),e._v("，队列删除消息。")])]),e._v(" "),r("h2",{attrs:{id:"二、交换机类型-不同场景的路由策略"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#二、交换机类型-不同场景的路由策略"}},[e._v("#")]),e._v(" 二、交换机类型：不同场景的路由策略")]),e._v(" "),r("p",[e._v("交换机的类型决定了消息的转发逻辑，需根据业务场景选择：")]),e._v(" "),r("h3",{attrs:{id:"_2-1-direct-exchange-直连交换机"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-direct-exchange-直连交换机"}},[e._v("#")]),e._v(" 2.1 Direct Exchange（直连交换机）")]),e._v(" "),r("p",[r("strong",[e._v("路由逻辑")]),e._v("：仅当消息的"),r("strong",[e._v("路由键")]),e._v("与队列和交换机的"),r("strong",[e._v("绑定键完全一致")]),e._v("时，消息才会被转发。\n"),r("strong",[e._v("适用场景")]),e._v('：精确路由（如"订单创建"消息仅发给订单处理服务）。')]),e._v(" "),r("p",[r("strong",[e._v("示例流程")]),e._v("：")]),e._v(" "),r("ul",[r("li",[e._v("交换机"),r("code",[e._v("direct.exchange")]),e._v("与队列"),r("code",[e._v("queue1")]),e._v("绑定，绑定键为"),r("code",[e._v("order.create")]),e._v("；")]),e._v(" "),r("li",[e._v("生产者发送路由键为"),r("code",[e._v("order.create")]),e._v("的消息 → 消息被转发到"),r("code",[e._v("queue1")]),e._v("；")]),e._v(" "),r("li",[e._v("若路由键为"),r("code",[e._v("order.pay")]),e._v(" → 无匹配队列，消息被丢弃。")])]),e._v(" "),r("h3",{attrs:{id:"_2-2-topic-exchange-主题交换机"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-topic-exchange-主题交换机"}},[e._v("#")]),e._v(" 2.2 Topic Exchange（主题交换机）")]),e._v(" "),r("p",[r("strong",[e._v("路由逻辑")]),e._v("：支持通配符匹配路由键，灵活性最高。")]),e._v(" "),r("ul",[r("li",[r("code",[e._v("*")]),e._v("：匹配"),r("strong",[e._v("1个单词")]),e._v("（如"),r("code",[e._v("order.*")]),e._v("可匹配"),r("code",[e._v("order.create")]),e._v("、"),r("code",[e._v("order.pay")]),e._v("，但不匹配"),r("code",[e._v("order.pay.success")]),e._v("）；")]),e._v(" "),r("li",[r("code",[e._v("#")]),e._v("：匹配"),r("strong",[e._v("0个或多个单词")]),e._v("（如"),r("code",[e._v("order.#")]),e._v("可匹配"),r("code",[e._v("order")]),e._v("、"),r("code",[e._v("order.create")]),e._v("、"),r("code",[e._v("order.pay.success")]),e._v("）。")])]),e._v(" "),r("p",[r("strong",[e._v("适用场景")]),e._v('：按"主题"分类的消息（如日志系统，'),r("code",[e._v("log.error")]),e._v("、"),r("code",[e._v("log.warn")]),e._v("可被不同队列接收）。")]),e._v(" "),r("p",[r("strong",[e._v("示例流程")]),e._v("：")]),e._v(" "),r("ul",[r("li",[e._v("交换机"),r("code",[e._v("topic.exchange")]),e._v("与队列"),r("code",[e._v("errorQueue")]),e._v("绑定，绑定键为"),r("code",[e._v("log.error")]),e._v("；")]),e._v(" "),r("li",[e._v("与队列"),r("code",[e._v("allLogQueue")]),e._v("绑定，绑定键为"),r("code",[e._v("log.#")]),e._v("；")]),e._v(" "),r("li",[e._v("发送路由键为"),r("code",[e._v("log.error.db")]),e._v("的消息 → 同时转发到"),r("code",[e._v("errorQueue")]),e._v("和"),r("code",[e._v("allLogQueue")]),e._v("。")])]),e._v(" "),r("h3",{attrs:{id:"_2-3-fanout-exchange-扇形交换机"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-fanout-exchange-扇形交换机"}},[e._v("#")]),e._v(" 2.3 Fanout Exchange（扇形交换机）")]),e._v(" "),r("p",[r("strong",[e._v("路由逻辑")]),e._v("：完全忽略路由键和绑定键，"),r("strong",[e._v("所有绑定该交换机的队列都会收到消息")]),e._v("（广播模式）。\n"),r("strong",[e._v("适用场景")]),e._v("：消息需要被多个消费者处理（如订单创建后，通知库存、支付、物流服务）。")]),e._v(" "),r("p",[r("strong",[e._v("示例流程")]),e._v("：")]),e._v(" "),r("ul",[r("li",[e._v("交换机"),r("code",[e._v("fanout.exchange")]),e._v("绑定了"),r("code",[e._v("stockQueue")]),e._v("、"),r("code",[e._v("payQueue")]),e._v("、"),r("code",[e._v("logisticsQueue")]),e._v("；")]),e._v(" "),r("li",[e._v("生产者发送消息（无需指定路由键） → 三个队列均收到消息。")])]),e._v(" "),r("h3",{attrs:{id:"_2-4-headers-exchange-头交换机"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_2-4-headers-exchange-头交换机"}},[e._v("#")]),e._v(" 2.4 Headers Exchange（头交换机）")]),e._v(" "),r("p",[r("strong",[e._v("路由逻辑")]),e._v("：不依赖路由键，通过消息的"),r("strong",[e._v("头信息（Headers）")]),e._v(" 匹配绑定规则。")]),e._v(" "),r("ul",[r("li",[e._v("绑定队列时需指定一组键值对（如"),r("code",[e._v('{"type":"order", "priority":"high"}')]),e._v("）；")]),e._v(" "),r("li",[e._v("匹配模式："),r("code",[e._v("x-match=all")]),e._v("（需所有头信息匹配）或"),r("code",[e._v("x-match=any")]),e._v("（任意一个匹配）。")])]),e._v(" "),r("p",[r("strong",[e._v("适用场景")]),e._v("：路由规则复杂（需多条件匹配）的场景（较少使用，通常可用Topic替代）。")]),e._v(" "),r("h2",{attrs:{id:"三、高级特性-确保消息可靠与高效"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#三、高级特性-确保消息可靠与高效"}},[e._v("#")]),e._v(" 三、高级特性：确保消息可靠与高效")]),e._v(" "),r("h3",{attrs:{id:"_3-1-负载均衡-prefetch配置"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_3-1-负载均衡-prefetch配置"}},[e._v("#")]),e._v(" 3.1 负载均衡：prefetch配置")]),e._v(" "),r("p",[r("strong",[e._v("问题")]),e._v("：若队列有100条消息，2个消费者监听时，默认会平均分配（各50条）。若其中一个消费者处理慢，会导致消息堆积。")]),e._v(" "),r("p",[r("strong",[e._v("解决方案")]),e._v("：通过"),r("code",[e._v("prefetch")]),e._v("控制消费者预取消息数量：")]),e._v(" "),r("ul",[r("li",[r("code",[e._v("prefetch=1")]),e._v("：消费者必须处理完当前消息并确认后，才能获取下一条（轮询分配，负载均衡）。")])]),e._v(" "),r("p",[r("strong",[e._v("配置示例（application.yml）")]),e._v("：")]),e._v(" "),r("div",{staticClass:"language- line-numbers-mode"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[e._v("spring:\n  rabbitmq:\n    listener:\n      simple:\n        prefetch: 1 # 每次只预取1条消息\n        acknowledge-mode: manual # 手动确认（配合prefetch生效）\n")])]),e._v(" "),r("div",{staticClass:"line-numbers-wrapper"},[r("span",{staticClass:"line-number"},[e._v("1")]),r("br"),r("span",{staticClass:"line-number"},[e._v("2")]),r("br"),r("span",{staticClass:"line-number"},[e._v("3")]),r("br"),r("span",{staticClass:"line-number"},[e._v("4")]),r("br"),r("span",{staticClass:"line-number"},[e._v("5")]),r("br"),r("span",{staticClass:"line-number"},[e._v("6")]),r("br")])]),r("h3",{attrs:{id:"_3-2-消息持久化"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-消息持久化"}},[e._v("#")]),e._v(" 3.2 消息持久化")]),e._v(" "),r("p",[e._v("为避免RabbitMQ重启后消息丢失，需同时配置：")]),e._v(" "),r("ol",[r("li",[r("strong",[e._v("交换机持久化")]),e._v("：声明交换机时设置"),r("code",[e._v("durable=true")]),e._v("；")]),e._v(" "),r("li",[r("strong",[e._v("队列持久化")]),e._v("：声明队列时设置"),r("code",[e._v("durable=true")]),e._v("；")]),e._v(" "),r("li",[r("strong",[e._v("消息持久化")]),e._v("：发送消息时设置"),r("code",[e._v("deliveryMode=2")]),e._v("（Spring AMQP默认持久化）。")])]),e._v(" "),r("h3",{attrs:{id:"_3-3-消息确认机制"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_3-3-消息确认机制"}},[e._v("#")]),e._v(" 3.3 消息确认机制")]),e._v(" "),r("ul",[r("li",[r("strong",[e._v("生产者确认")]),e._v("：确保消息成功发送到交换机（通过"),r("code",[e._v("publisher-confirm-type")]),e._v("配置）；")]),e._v(" "),r("li",[r("strong",[e._v("消费者确认")]),e._v("：确保消息被正确处理（手动Ack，避免处理失败后消息丢失）。")])]),e._v(" "),r("h2",{attrs:{id:"总结"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#总结"}},[e._v("#")]),e._v(" 总结")]),e._v(" "),r("p",[e._v('RabbitMQ的核心价值在于通过"组件解耦"和"异步通信"提升分布式系统的可靠性与效率。')])])}),[],!1,null,null,null);r.default=a.exports}}]);