(window.webpackJsonp=window.webpackJsonp||[]).push([[36],{391:function(s,a,n){"use strict";n.r(a);var t=n(8),e=Object(t.a)({},(function(){var s=this,a=s._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("p",[s._v("Elasticsearch（简称 ES）是一款开源的分布式搜索引擎，以"),a("strong",[s._v("实时全文检索")]),s._v("、"),a("strong",[s._v("高扩展性")]),s._v("和"),a("strong",[s._v("灵活的数据分析能力")]),s._v("著称。其核心设计围绕「文档（Document）」展开，所有操作均通过 RESTful API 实现，与开发语言无关，仅需通过 HTTP 方法（PUT/POST/GET/DELETE）配合 JSON 格式即可完成交互。")]),s._v(" "),a("h2",{attrs:{id:"一、elasticsearch-核心概念与价值"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#一、elasticsearch-核心概念与价值"}},[s._v("#")]),s._v(" 一、Elasticsearch 核心概念与价值")]),s._v(" "),a("p",[s._v("相较于传统关系型数据库，ES 更擅长处理"),a("strong",[s._v("非结构化/半结构化数据")]),s._v("（如日志、文本、地理位置等），并支持复杂的全文搜索、聚合分析和地理位置查询，广泛应用于日志分析、电商搜索、监控系统等场景。")]),s._v(" "),a("h2",{attrs:{id:"二、从-mysql-视角理解-es-核心概念"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#二、从-mysql-视角理解-es-核心概念"}},[s._v("#")]),s._v(" 二、从 MySQL 视角理解 ES 核心概念")]),s._v(" "),a("p",[s._v("对于熟悉 MySQL 的开发者，可通过以下对应关系快速掌握 ES 核心概念：")]),s._v(" "),a("table",[a("thead",[a("tr",[a("th",[s._v("ES 概念")]),s._v(" "),a("th",[s._v("MySQL 概念")]),s._v(" "),a("th",[s._v("核心作用")])])]),s._v(" "),a("tbody",[a("tr",[a("td",[s._v("Index（索引）")]),s._v(" "),a("td",[s._v("Database（数据库）")]),s._v(" "),a("td",[s._v("存储相似结构文档的容器，一个索引可理解为一个「数据集合」")])]),s._v(" "),a("tr",[a("td",[s._v("Document（文档）")]),s._v(" "),a("td",[s._v("Row（行）")]),s._v(" "),a("td",[s._v("一条完整的数据记录，ES 中以 JSON 格式存储，每个文档有唯一 _id 标识")])]),s._v(" "),a("tr",[a("td",[s._v("Field（字段）")]),s._v(" "),a("td",[s._v("Column（列）")]),s._v(" "),a("td",[s._v("文档的属性（如「姓名」「时间」），对应 JSON 中的键值对")])]),s._v(" "),a("tr",[a("td",[s._v("Mapping（映射）")]),s._v(" "),a("td",[s._v("Table Schema（表结构）")]),s._v(" "),a("td",[s._v("定义文档中字段的类型、分词规则等元数据，相当于「数据结构说明书」")])])])]),s._v(" "),a("p",[a("strong",[s._v("关键区别")]),s._v("："),a("br"),s._v("\nES 是「搜索引擎」而非「数据库」，其底层基于倒排索引实现高效全文检索，而 MySQL 基于 B+ 树实现关系型数据存储，二者适用场景互补（如 ES 适合搜索，MySQL 适合事务性存储）。")]),s._v(" "),a("h2",{attrs:{id:"三、索引操作-数据结构的定义与管理"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#三、索引操作-数据结构的定义与管理"}},[s._v("#")]),s._v(" 三、索引操作：数据结构的定义与管理")]),s._v(" "),a("p",[s._v("索引是 ES 中数据存储的顶层容器，创建索引时需通过 Mapping 定义字段规则（类似 MySQL 建表时定义字段类型）。")]),s._v(" "),a("h3",{attrs:{id:"_3-1-创建索引-定义-mapping"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-1-创建索引-定义-mapping"}},[s._v("#")]),s._v(" 3.1 创建索引（定义 Mapping）")]),s._v(" "),a("p",[s._v("创建索引的核心是声明字段类型（Mapping），ES 支持多种字段类型，需根据业务场景选择（如全文搜索用 text，精确匹配用 keyword）。")]),s._v(" "),a("h4",{attrs:{id:"基础语法"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#基础语法"}},[s._v("#")]),s._v(" 基础语法")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('PUT /索引名\n{\n  "mappings": {\n    "properties": {\n      "字段名1": { "type": "字段类型", "可选参数": "值" },\n      "字段名2": { "type": "字段类型" }\n    }\n  }\n}\n\n// 示例：创建「公司信息」索引\nPUT /company\n{\n  "mappings": {\n    "properties": {\n      "name": { "type": "text" }, // 公司名称（支持全文搜索，会被分词）\n      "city": { "type": "keyword" }, // 城市（精确匹配，不分词）\n      "create_time": { "type": "date", "format": "yyyy-MM-dd HH:mm:ss" }, // 成立时间（自定义格式）\n      "address": { "type": "geo_point" }, // 地址（经纬度，支持地理位置查询）\n      "employees": { "type": "integer" } // 员工数量（整数类型）\n    }\n  }\n}\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br")])]),a("h4",{attrs:{id:"常用字段类型说明"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#常用字段类型说明"}},[s._v("#")]),s._v(" 常用字段类型说明")]),s._v(" "),a("table",[a("thead",[a("tr",[a("th",[s._v("字段类型")]),s._v(" "),a("th",[s._v("适用场景")]),s._v(" "),a("th",[s._v("注意事项")])])]),s._v(" "),a("tbody",[a("tr",[a("td",[s._v("text")]),s._v(" "),a("td",[s._v("全文搜索（如文章内容、商品名称）")]),s._v(" "),a("td",[s._v("会被分词器拆分（如「Java开发」拆分为「Java」「开发」），不支持聚合操作")])]),s._v(" "),a("tr",[a("td",[s._v("keyword")]),s._v(" "),a("td",[s._v("精确查询/聚合（如城市、状态、标签）")]),s._v(" "),a("td",[s._v("不分词，需完全匹配（如「广州市」只能匹配「广州市」）")])]),s._v(" "),a("tr",[a("td",[s._v("数字类型（long、integer 等）")]),s._v(" "),a("td",[s._v("数值存储（如数量、价格）")]),s._v(" "),a("td",[s._v("支持范围查询（如 "),a("code",[s._v(">100")]),s._v("、"),a("code",[s._v("<=1000")]),s._v("）")])]),s._v(" "),a("tr",[a("td",[s._v("date")]),s._v(" "),a("td",[s._v("日期时间（如创建时间、过期时间）")]),s._v(" "),a("td",[s._v('支持自定义格式（默认兼容 "yyyy-MM-dd"、时间戳等），需统一格式避免解析错误')])]),s._v(" "),a("tr",[a("td",[s._v("geo_point")]),s._v(" "),a("td",[s._v("地理位置（经纬度点，如店铺位置、用户坐标）")]),s._v(" "),a("td",[s._v("支持「附近搜索」「距离排序」等地理查询")])]),s._v(" "),a("tr",[a("td",[s._v("boolean")]),s._v(" "),a("td",[s._v("布尔值（如是否启用、是否删除）")]),s._v(" "),a("td",[s._v('可接受 true/false、"true"/"false" 或 1/0')])])])]),s._v(" "),a("h4",{attrs:{id:"注意事项"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#注意事项"}},[s._v("#")]),s._v(" 注意事项")]),s._v(" "),a("ul",[a("li",[s._v("索引名称需小写，且不能包含空格、斜杠等特殊字符；")]),s._v(" "),a("li",[s._v("若不声明 Mapping，ES 会根据第一条文档自动推断字段类型（动态映射），但可能存在误差（如数字被识别为 text），建议"),a("strong",[s._v("显式定义 Mapping")]),s._v("；")]),s._v(" "),a("li",[s._v("ES 无专门数组类型，任何字段均可存储数组（如 "),a("code",[s._v('["Java", "Python"]')]),s._v("），但需保证数组内元素类型一致。")])]),s._v(" "),a("h3",{attrs:{id:"_3-2-查看索引映射"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-查看索引映射"}},[s._v("#")]),s._v(" 3.2 查看索引映射")]),s._v(" "),a("p",[s._v("查看已创建索引的字段定义，确认 Mapping 是否符合预期：")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('GET /company/_mapping\n\n// 响应示例（简化）：\n{\n  "company": {\n    "mappings": {\n      "properties": {\n        "name": { "type": "text" },\n        "city": { "type": "keyword" }\n        // 其他字段...\n      }\n    }\n  }\n}\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br")])]),a("h3",{attrs:{id:"_3-3-修改索引-仅支持添加字段"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-3-修改索引-仅支持添加字段"}},[s._v("#")]),s._v(" 3.3 修改索引（仅支持添加字段）")]),s._v(" "),a("p",[s._v("ES 的索引 Mapping 一旦创建，"),a("strong",[s._v("字段类型不可修改")]),s._v("（因底层倒排索引结构不可变），但可新增字段：")]),s._v(" "),a("h4",{attrs:{id:"语法-添加字段"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#语法-添加字段"}},[s._v("#")]),s._v(" 语法：添加字段")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('PUT /索引名/_mapping\n{\n  "properties": {\n    "新字段名": { "type": "字段类型" }\n  }\n}\n\n// 示例：为 company 索引添加「行业」字段\nPUT /company/_mapping\n{\n  "properties": {\n    "industry": { "type": "keyword" } // 行业（精确匹配，用于筛选）\n  }\n}\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br")])]),a("h4",{attrs:{id:"若需修改字段类型怎么办"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#若需修改字段类型怎么办"}},[s._v("#")]),s._v(" 若需修改字段类型怎么办？")]),s._v(" "),a("p",[s._v("需通过「重建索引」实现：")]),s._v(" "),a("ol",[a("li",[s._v("创建新索引（含正确的 Mapping）；")]),s._v(" "),a("li",[s._v("通过 "),a("code",[s._v("_reindex")]),s._v(" API 将旧索引数据迁移至新索引；")]),s._v(" "),a("li",[s._v("用别名（Alias）切换读写指向，实现无缝迁移。")])]),s._v(" "),a("h3",{attrs:{id:"_3-4-删除索引"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-4-删除索引"}},[s._v("#")]),s._v(" 3.4 删除索引")]),s._v(" "),a("p",[s._v("删除索引会彻底清除所有数据和 Mapping，操作不可逆，需谨慎！")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("DELETE /company\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h2",{attrs:{id:"四、文档操作-数据的增删改查"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#四、文档操作-数据的增删改查"}},[s._v("#")]),s._v(" 四、文档操作：数据的增删改查")]),s._v(" "),a("p",[s._v("文档是 ES 中最小的数据单元（类似 MySQL 的行），以 JSON 格式存储，每个文档有唯一 "),a("code",[s._v("_id")]),s._v("（可自定义或由 ES 自动生成）。")]),s._v(" "),a("h3",{attrs:{id:"_4-1-添加文档"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-1-添加文档"}},[s._v("#")]),s._v(" 4.1 添加文档")]),s._v(" "),a("h4",{attrs:{id:"自动生成-id-适合无需自定义-id-的场景"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#自动生成-id-适合无需自定义-id-的场景"}},[s._v("#")]),s._v(" 自动生成 _id（适合无需自定义 ID 的场景）")]),s._v(" "),a("p",[s._v("使用 POST 方法，ES 会自动生成唯一字符串作为 "),a("code",[s._v("_id")]),s._v("：")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('POST /索引名/_doc\n{\n  "字段1": "值1",\n  "字段2": "值2"\n}\n\n// 示例：\nPOST /company/_doc\n{\n  "name": "广州测试技术公司",\n  "city": "广州市",\n  "create_time": "2022-01-11 20:40:00",\n  "address": "22.9982,113.3737", // 经纬度格式：纬度,经度\n  "industry": "计算机",\n  "employees": 50\n}\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br")])]),a("h4",{attrs:{id:"自定义-id-适合需关联业务-id-的场景"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#自定义-id-适合需关联业务-id-的场景"}},[s._v("#")]),s._v(" 自定义 _id（适合需关联业务 ID 的场景）")]),s._v(" "),a("p",[s._v("使用 PUT 方法，指定 "),a("code",[s._v("_id")]),s._v("（如业务主键）：")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('PUT /索引名/_doc/自定义ID\n{\n  "字段1": "值1",\n  "字段2": "值2"\n}\n\n// 示例（指定 ID 为 1001）：\nPUT /company/_doc/1001\n{\n  "name": "深圳Java开发公司",\n  "city": "深圳市",\n  "create_time": "2021-05-20 10:30:00",\n  "address": "22.5431,114.0579",\n  "industry": "软件",\n  "employees": 120\n}\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br")])]),a("h3",{attrs:{id:"_4-2-删除文档"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-2-删除文档"}},[s._v("#")]),s._v(" 4.2 删除文档")]),s._v(" "),a("p",[s._v("通过 "),a("code",[s._v("_id")]),s._v(" 删除单条文档：")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("DELETE /索引名/_doc/文档ID\n\n// 示例（删除 ID 为 1001 的文档）：\nDELETE /company/_doc/1001\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("p",[a("strong",[s._v("注意")]),s._v("：删除文档不会立即释放磁盘空间，而是标记为删除，后续通过段合并（segment merge）清理。")]),s._v(" "),a("h3",{attrs:{id:"_4-3-修改文档"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-3-修改文档"}},[s._v("#")]),s._v(" 4.3 修改文档")]),s._v(" "),a("p",[s._v("ES 支持两种修改方式：全量替换和部分更新。")]),s._v(" "),a("h4",{attrs:{id:"全量替换-覆盖文档"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#全量替换-覆盖文档"}},[s._v("#")]),s._v(" 全量替换（覆盖文档）")]),s._v(" "),a("p",[s._v("本质是「删除旧文档 + 插入新文档」，需包含所有字段（未指定的字段会丢失）：")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('PUT /索引名/_doc/文档ID\n{\n  "字段1": "新值1",\n  "字段2": "新值2" // 需包含所有要保留的字段\n}\n\n// 示例（替换 ID 为 1001 的文档）：\nPUT /company/_doc/1001\n{\n  "name": "深圳Java开发公司（更新后）", // 修改名称\n  "city": "深圳市", // 保留原字段\n  "create_time": "2021-05-20 10:30:00",\n  "address": "22.5431,114.0579",\n  "industry": "软件",\n  "employees": 150 // 修改员工数量\n}\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br")])]),a("h4",{attrs:{id:"部分更新-仅修改指定字段"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#部分更新-仅修改指定字段"}},[s._v("#")]),s._v(" 部分更新（仅修改指定字段）")]),s._v(" "),a("p",[s._v("更高效（无需传输完整文档），通过 "),a("code",[s._v("_update")]),s._v(" API 实现：")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('POST /索引名/_update/文档ID\n{\n  "doc": {\n    "字段1": "新值1", // 仅指定需修改的字段\n    "字段2": "新值2"\n  }\n}\n\n// 示例（仅修改 ID 为 1001 的员工数量）：\nPOST /company/_update/1001\n{\n  "doc": {\n    "employees": 180\n  }\n}\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br")])]),a("h3",{attrs:{id:"_4-4-搜索文档-从基础到复杂查询"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-4-搜索文档-从基础到复杂查询"}},[s._v("#")]),s._v(" 4.4 搜索文档：从基础到复杂查询")]),s._v(" "),a("p",[s._v("ES 的搜索能力是其核心优势，支持全文检索、条件组合、范围筛选等多种场景。")]),s._v(" "),a("h4",{attrs:{id:"_4-4-1-基础搜索-查询所有文档"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-4-1-基础搜索-查询所有文档"}},[s._v("#")]),s._v(" 4.4.1 基础搜索：查询所有文档")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('GET /company/_search\n{\n  "query": {\n    "match_all": {} // 匹配所有文档\n  }\n}\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])]),a("p",[a("strong",[s._v("响应说明")]),s._v("：")]),s._v(" "),a("ul",[a("li",[a("code",[s._v("hits.total")]),s._v("：匹配的文档总数；")]),s._v(" "),a("li",[a("code",[s._v("hits.hits")]),s._v("：匹配的文档列表（默认前 10 条）；")]),s._v(" "),a("li",[a("code",[s._v("_id")]),s._v("：文档唯一标识；")]),s._v(" "),a("li",[a("code",[s._v("_source")]),s._v("：文档原始数据。")])]),s._v(" "),a("h4",{attrs:{id:"_4-4-2-全文搜索-匹配分词后的关键词"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-4-2-全文搜索-匹配分词后的关键词"}},[s._v("#")]),s._v(" 4.4.2 全文搜索：匹配分词后的关键词")]),s._v(" "),a("p",[s._v("针对 "),a("code",[s._v("text")]),s._v(" 类型字段（如公司名称），会对搜索词分词后匹配：")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('// 搜索名称中含「测试」或「技术」的公司（text 类型会分词）\nGET /company/_search\n{\n  "query": {\n    "match": {\n      "name": "测试技术"\n    }\n  }\n}\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br")])]),a("h4",{attrs:{id:"_4-4-3-精确匹配-完全匹配字段值"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-4-3-精确匹配-完全匹配字段值"}},[s._v("#")]),s._v(" 4.4.3 精确匹配：完全匹配字段值")]),s._v(" "),a("p",[s._v("针对 "),a("code",[s._v("keyword")]),s._v(" 类型字段（如城市、行业），需完全匹配：")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('// 精确匹配城市为「广州市」的公司\nGET /company/_search\n{\n  "query": {\n    "term": {\n      "city": "广州市"\n    }\n  }\n}\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br")])]),a("h4",{attrs:{id:"_4-4-4-范围查询-筛选数值-日期范围"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-4-4-范围查询-筛选数值-日期范围"}},[s._v("#")]),s._v(" 4.4.4 范围查询：筛选数值/日期范围")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('// 查询 2020 年之后成立的公司（日期范围）\nGET /company/_search\n{\n  "query": {\n    "range": {\n      "create_time": {\n        "gte": "2020-01-01 00:00:00", // 大于等于\n        "lte": "now" // 小于等于当前时间\n      }\n    }\n  }\n}\n\n// 查询员工数在 100-500 之间的公司（数值范围）\nGET /company/_search\n{\n  "query": {\n    "range": {\n      "employees": {\n        "gt": 100, // 大于\n        "lt": 500  // 小于\n      }\n    }\n  }\n}\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br")])]),a("h4",{attrs:{id:"_4-4-5-组合条件查询-多条件逻辑组合"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-4-5-组合条件查询-多条件逻辑组合"}},[s._v("#")]),s._v(" 4.4.5 组合条件查询：多条件逻辑组合")]),s._v(" "),a("p",[s._v("通过 "),a("code",[s._v("bool")]),s._v(" 查询组合多个条件（must/should/filter/must_not）：")]),s._v(" "),a("table",[a("thead",[a("tr",[a("th",[s._v("条件类型")]),s._v(" "),a("th",[s._v("作用")]),s._v(" "),a("th",[s._v("是否影响评分")])])]),s._v(" "),a("tbody",[a("tr",[a("td",[s._v("must")]),s._v(" "),a("td",[s._v("必须满足（类似 AND）")]),s._v(" "),a("td",[s._v("是")])]),s._v(" "),a("tr",[a("td",[s._v("should")]),s._v(" "),a("td",[s._v("至少满足一个（类似 OR）")]),s._v(" "),a("td",[s._v("是")])]),s._v(" "),a("tr",[a("td",[s._v("filter")]),s._v(" "),a("td",[s._v("必须满足（过滤）")]),s._v(" "),a("td",[s._v("否（性能更好）")])]),s._v(" "),a("tr",[a("td",[s._v("must_not")]),s._v(" "),a("td",[s._v("必须不满足（类似 NOT）")]),s._v(" "),a("td",[s._v("否")])])])]),s._v(" "),a("p",[s._v("示例：")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('// 条件：\n// 1. 名称含「Java」（must）\n// 2. 城市是广州或深圳（should，至少1个）\n// 3. 成立时间在2020年后（filter）\n// 4. 行业不是「计算机」（must_not）\nGET /company/_search\n{\n  "query": {\n    "bool": {\n      "must": [\n        { "match": { "name": "Java" }}\n      ],\n      "should": [\n        { "term": { "city": "广州市" }},\n        { "term": { "city": "深圳市" }}\n      ],\n      "minimum_should_match": 1, // 至少满足1个should条件\n      "filter": [\n        { "range": { "create_time": { "gte": "2020-01-01" }}}\n      ],\n      "must_not": [\n        { "term": { "industry": "计算机" }}\n      ]\n    }\n  }\n}\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br")])]),a("h4",{attrs:{id:"_4-4-6-搜索结果处理-分页、排序与筛选"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-4-6-搜索结果处理-分页、排序与筛选"}},[s._v("#")]),s._v(" 4.4.6 搜索结果处理：分页、排序与筛选")]),s._v(" "),a("h5",{attrs:{id:"分页-控制返回数量"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#分页-控制返回数量"}},[s._v("#")]),s._v(" 分页（控制返回数量）")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('// 第2页（从第10条开始），每页10条\nGET /company/_search\n{\n  "from": 10, // 起始位置（0为第一条）\n  "size": 10, // 每页条数\n  "query": { "match_all": {} }\n}\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br")])]),a("p",[a("strong",[s._v("注意")]),s._v("："),a("code",[s._v("from + size")]),s._v(" 过大可能导致性能问题，深分页建议用 "),a("code",[s._v("search_after")]),s._v("。")]),s._v(" "),a("h5",{attrs:{id:"排序-按字段排序"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#排序-按字段排序"}},[s._v("#")]),s._v(" 排序（按字段排序）")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('// 按成立时间倒序（新公司在前），员工数正序（人数少在前）\nGET /company/_search\n{\n  "query": { "match_all": {} },\n  "sort": [\n    { "create_time": { "order": "desc" }}, // 降序\n    { "employees": { "order": "asc" }}     // 升序\n  ]\n}\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br")])]),a("h5",{attrs:{id:"字段筛选-只返回需要的字段"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#字段筛选-只返回需要的字段"}},[s._v("#")]),s._v(" 字段筛选（只返回需要的字段）")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('// 只返回名称、城市和成立时间\nGET /company/_search\n{\n  "_source": ["name", "city", "create_time"], // 需返回的字段\n  "query": { "term": { "city": "广州市" }}\n}\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])]),a("h4",{attrs:{id:"_4-4-7-聚合分析-实时统计与分析"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-4-7-聚合分析-实时统计与分析"}},[s._v("#")]),s._v(" 4.4.7 聚合分析：实时统计与分析")]),s._v(" "),a("p",[s._v("在搜索的同时对数据进行统计（如分组计数、平均值计算）。")]),s._v(" "),a("p",[s._v("示例：按城市统计含「Java」的公司数量")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('GET /company/_search\n{\n  "size": 0, // 不返回原始文档，只看聚合结果\n  "query": { "match": { "name": "Java" }},\n  "aggs": {\n    "city_count": { // 自定义聚合名称\n      "terms": {\n        "field": "city", // 按city（keyword类型）分组\n        "size": 10 // 返回前10个城市\n      }\n    }\n  }\n}\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br")])]),a("p",[s._v("响应中 "),a("code",[s._v("aggregations.city_count.buckets")]),s._v(" 会返回每个城市的公司数量。")]),s._v(" "),a("h4",{attrs:{id:"_4-4-8-地理位置搜索-查找附近的文档"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-4-8-地理位置搜索-查找附近的文档"}},[s._v("#")]),s._v(" 4.4.8 地理位置搜索：查找附近的文档")]),s._v(" "),a("p",[s._v("基于 "),a("code",[s._v("geo_point")]),s._v(" 字段，搜索指定位置周边的文档：")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('// 搜索广州南站（22.9982, 113.3737）周边5公里内的公司\nGET /company/_search\n{\n  "query": {\n    "geo_distance": {\n      "distance": "5km", // 距离范围（支持 km/m 等单位）\n      "address": "22.9982, 113.3737" // 中心点经纬度\n    }\n  }\n}\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br")])]),a("h2",{attrs:{id:"五、最佳实践与注意事项"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#五、最佳实践与注意事项"}},[s._v("#")]),s._v(" 五、最佳实践与注意事项")]),s._v(" "),a("ol",[a("li",[a("p",[a("strong",[s._v("索引设计")]),s._v("：")]),s._v(" "),a("ul",[a("li",[s._v("合理选择字段类型（如无需全文搜索的字符串用 keyword）；")]),s._v(" "),a("li",[s._v("避免过度设计（字段不宜过多）， Mapping 需提前规划。")])])]),s._v(" "),a("li",[a("p",[a("strong",[s._v("性能优化")]),s._v("：")]),s._v(" "),a("ul",[a("li",[s._v("批量操作（用 "),a("code",[s._v("_bulk")]),s._v(" API 批量增删改，减少请求次数）；")]),s._v(" "),a("li",[s._v("避免深分页（"),a("code",[s._v("from + size")]),s._v(" 不超过 10000，如需深分页用 "),a("code",[s._v("search_after")]),s._v("）；")]),s._v(" "),a("li",[s._v("过滤条件优先用 "),a("code",[s._v("filter")]),s._v("（不影响评分，可缓存）。")])])]),s._v(" "),a("li",[a("p",[a("strong",[s._v("数据安全")]),s._v("：")]),s._v(" "),a("ul",[a("li",[s._v("删除索引/文档前确认操作，建议先备份；")]),s._v(" "),a("li",[s._v("生产环境开启索引副本（"),a("code",[s._v("number_of_replicas")]),s._v("），提高可用性。")])])]),s._v(" "),a("li",[a("p",[a("strong",[s._v("版本控制")]),s._v("：")]),s._v(" "),a("ul",[a("li",[s._v("文档更新时可通过 "),a("code",[s._v("version")]),s._v(" 字段实现乐观锁，避免并发冲突。")])])])])])}),[],!1,null,null,null);a.default=e.exports}}]);